diff -urpN pciutils-2.1.99-test8/lib/filter.c pciutils-2.1.99-test8-willy/lib/filter.c
--- pciutils-2.1.99-test8/lib/filter.c	2003-12-27 13:25:29.000000000 -0700
+++ pciutils-2.1.99-test8-willy/lib/filter.c	2005-01-06 10:02:53.857146926 -0700
@@ -39,7 +39,7 @@ pci_filter_parse_slot(struct pci_filter 
 	  bus = colon2;
 	  if (str[0] && strcmp(str, "*"))
 	    {
-	      long int x = strtol(bus, &e, 16);
+	      long int x = strtol(str, &e, 16);
 	      if ((e && *e) || (x < 0 || x > 0xffff))
 		return "Invalid domain number";
 	      f->domain = x;


